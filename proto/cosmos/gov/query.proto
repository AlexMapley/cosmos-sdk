syntax = "proto3";
package cosmos.gov;

import "cosmos/query/pagination.proto";
import "gogoproto/gogo.proto";
import "cosmos/gov/gov.proto";

option go_package = "github.com/cosmos/cosmos-sdk/x/gov/types";

service Query {
  // Proposal returns proposal details based on ProposalID
  rpc Proposal (QueryProposalRequest) returns (QueryProposalResponse) {}

  // Proposals queries all proposals.
  rpc Proposals (QueryProposalsRequest) returns (QueryProposalsResponse) {}

  // Vote returns Voted information based on proposalID, voterAddr
  rpc Vote(QueryVoteRequest) returns (QueryVoteResponse) {}

  // Votes queries votes of a given proposal
  rpc Votes (QueryProposalRequest) returns (QueryVotesResponse) {}

  // Params queries all params
  // rpc Params(QueryParamsRequest) returns (QueryParamsResponse) {}

  // Deposit queries single deposit information based proposalID, depositAddr
  rpc Deposit(QueryDepositRequest) returns (QueryDepositResponse) {}

  // Deposits returns all deposits of a single proposal
  rpc Deposits(QueryProposalRequest) returns (QueryDepositsResponse) {}

  // TallyResult queries the tally of a proposal vote
  rpc TallyResult(QueryProposalRequest) returns (QueryTallyResponse) {}
}

message QueryProposalRequest {
  // unique id of the proposal
  uint64 proposal_id = 1;

  cosmos.query.PageRequest req = 2;
}

message QueryProposalResponse {
  cosmos.gov.Proposal proposal = 1 [(gogoproto.nullable) = false];
}

// QueryProposalRequest is the request type for the Query/Proposal RPC method
message QueryProposalsRequest {
  // status of the proposals.
  int32 proposal_status = 1;
  
  // Voter address for the proposals.
  bytes voter = 2 [(gogoproto.casttype) = "github.com/cosmos/cosmos-sdk/types.AccAddress"]; 

  // Deposit addresses from the proposals.
  bytes depositor = 3 [(gogoproto.casttype) = "github.com/cosmos/cosmos-sdk/types.AccAddress"];

  cosmos.query.PageRequest req = 4;
}

message QueryProposalsResponse {
  repeated cosmos.gov.Proposal proposals = 1 [(gogoproto.nullable) = false];

  cosmos.query.PageResponse res = 2;
}

message QueryVoteRequest {
  // unique id of the proposal
  uint64 proposal_id = 1;
  
  // Voter address for the proposals.
  bytes voter = 2 [(gogoproto.casttype) = "github.com/cosmos/cosmos-sdk/types.AccAddress"]; 
}

message QueryVoteResponse {
  cosmos.gov.Vote vote = 1 [(gogoproto.nullable) = false];
}

message QueryVotesResponse {
  repeated cosmos.gov.Vote votes = 1 [(gogoproto.nullable) = false];

  cosmos.query.PageResponse res = 2;
}

// message QueryParamsRequest { 
//   string params_type = 1;
// }

// message QueryParamsResponse {
//   bytes VotingParams = 1 [(gogoproto.customtype) = "VotingParams", (gogoproto.nullable) = false];
//   bytes DepositParams = 2 [(gogoproto.customtype) = "DepositParams", (gogoproto.nullable) = false];
//   bytes TallyParams = 3 [(gogoproto.customtype) = "TallyParams", (gogoproto.nullable) = false];
// }

message QueryDepositRequest {
  // unique id of the proposal
  uint64 proposal_id = 1;
  
  // Deposit addresses from the proposals.
  bytes depositor = 2 [(gogoproto.casttype) = "github.com/cosmos/cosmos-sdk/types.AccAddress"];
}

message QueryDepositResponse {
  cosmos.gov.Deposit deposit = 1 [(gogoproto.nullable) = false];
}

message QueryDepositsResponse {
  repeated cosmos.gov.Deposit deposits = 1 [(gogoproto.nullable) = false];

  cosmos.query.PageResponse res = 2;
}

message QueryTallyResponse { 
  cosmos.gov.TallyResult tally = 1 [(gogoproto.nullable) = false];
} 
